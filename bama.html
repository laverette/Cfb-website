<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alabama Football Predictions</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="./Resources/Styles/bama.css">
</head>
<body>
    <h1 class="title">Alabama Football Predictions</h1>
  <!-- Netlify Form -->
  <form name="predictions" method="POST" data-netlify="true">
    <input type="hidden" name="form-name" value="predictions">

    <p>
      <label>Your Name: 
        <input type="text" name="user" />
      </label>
    </p>
    
    <p>
      <label>Game 1: Alabama at Florida State
        <select name="game1">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score1" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 2: Alabama vs LA-Monroe
        <select name="game2">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
          <label>Score: 
        <input type="text" name="score2" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 3: Alabama vs Wisconsin
        <select name="game3">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score3" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 4: Alabama at Georgia
        <select name="game4">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score4" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 5: Alabama vs Vanderbilt
        <select name="game5">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score5" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 6: Alabama at Missouri
        <select name="game6">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score6" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 7: Alabama vs Tennessee
        <select name="game7">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score7" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 8: Alabama at South Carolina
        <select name="game8">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score8" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 9: Alabama vs LSU
        <select name="game9">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score9" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 10: Alabama vs Oklahoma
        <select name="game10">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score10" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 11: Alabama vs Eastern Illinois
        <select name="game11">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score11" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <p>
      <label>Game 12: Alabama at Auburn
        <select name="game12">
          <option value="win">Win</option>
          <option value="loss">Loss</option>
        <label>Score: 
        <input type="text" name="score12" placeholder="e.g. 28-14" />
        </label>
        </select>
      </label>
    </p>

    <!-- keep adding more games like above -->

    <p>
      <button type="submit">Submit Predictions</button>
      <span class="text-white">Scroll Down to See Results!</span>
    </p>
  </form>
  <div id="results"></div>
  <div class="col-md-10 ps-rg-6 text-end mb-5 mt-up">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQft8fY7vY1m5cRyqkwUY6tumeOenBEU7Q_LA&s" alt="oops" class="img-fluid rounded shadow big-img">
      </div>
    
    <script>
document.querySelector('form[name="predictions"]').addEventListener('submit', function(e) {
  e.preventDefault(); // stop normal page reload

  const form = e.target;
  const formData = new FormData(form);

  // ‚úÖ 1. Build preview
  const user = formData.get("user");
  let html = `
    <div class="prediction-results-container">
      <div class="prediction-header">
        <h2 class="prediction-title">üèà Your Alabama Predictions</h2>
        <p class="prediction-subtitle">Submitted by: <strong>${user}</strong></p>
      </div>
      <div class="predictions-grid">
  `;
  
  const gameData = [
    "Alabama at Florida State",
    "Alabama vs LA-Monroe", 
    "Alabama vs Wisconsin",
    "Alabama at Georgia",
    "Alabama vs Vanderbilt",
    "Alabama at Missouri",
    "Alabama vs Tennessee",
    "Alabama at South Carolina",
    "Alabama vs LSU",
    "Alabama vs Oklahoma",
    "Alabama vs Eastern Illinois",
    "Alabama at Auburn"
  ];
  
  for (let i = 1; i <= 12; i++) {
    const prediction = formData.get("game" + i);
    const score = formData.get("score" + i);
    
    html += `
      <div class="prediction-card">
        <div class="game-info">
          <span class="game-number">Game ${i}</span>
          <span class="game-matchup">${gameData[i-1]}</span>
        </div>
        <div class="prediction-result">
          <div class="prediction-details">
            <span class="prediction-choice ${prediction.toLowerCase()}">${prediction}</span>
            <span class="prediction-score">${score || 'TBD'}</span>
          </div>
          <span class="prediction-status pending">
            ?
          </span>
        </div>
      </div>
    `;
  }
  
  html += `
      </div>
      <div class="prediction-summary">
        <div class="summary-stats">
          <div class="stat-item">
            <span class="stat-number">12</span>
            <span class="stat-label">Total Games</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">-</span>
            <span class="stat-label">Predicted Wins</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">-</span>
            <span class="stat-label">Win Rate</span>
          </div>
        </div>
        <div class="prediction-footer">
          <p class="success-message">‚úÖ Alabama predictions submitted successfully!</p>
          <p class="next-steps">Roll Tide! Check back after the season to see how you did!</p>
        </div>
      </div>
    </div>
  `;
  
  document.getElementById("results").innerHTML = html;

  // ‚úÖ 2. Send data to Netlify in background
  fetch("/", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: new URLSearchParams(formData).toString()
  })
  .then(() => console.log("Saved to Netlify"))
  .catch(err => console.error(err));
});
</script>


</body>
</html>
