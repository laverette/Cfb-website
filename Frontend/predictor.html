<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFB Prediction Model</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="../Resources/Styles/predictor.css">
</head>
<body>
    <nav class="navbar bg-gold">
        <div class="container">
            <h1 class="navbar-brand text-Black h2 mb-0 fw-bold">
                CFB Prediction Model
            </h1>
            <a href="index.html" class="btn btn-outline-dark">Back to Home</a>
        </div>
    </nav>

    <main class="container my-5">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="text-center mb-4">Game Prediction Calculator</h2>
                
                <div class="card shadow">
                    <div class="card-body">
                        <form id="predictionForm">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="homeTeam" class="form-label">Home Team</label>
                                    <select class="form-select" id="homeTeam" required>
                                        <option value="">Select Home Team</option>
                                        <option value="alabama">Alabama Crimson Tide</option>
                                        <option value="georgia">Georgia Bulldogs</option>
                                        <option value="ohio-state">Ohio State Buckeyes</option>
                                        <option value="texas">Texas Longhorns</option>
                                        <option value="oregon">Oregon Ducks</option>
                                        <option value="lsu">LSU Tigers</option>
                                        <option value="penn-state">Penn State Nittany Lions</option>
                                        <option value="miami">Miami Hurricanes</option>
                                        <option value="notre-dame">Notre Dame Fighting Irish</option>
                                        <option value="tennessee">Tennessee Volunteers</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="awayTeam" class="form-label">Away Team</label>
                                    <select class="form-select" id="awayTeam" required>
                                        <option value="">Select Away Team</option>
                                        <option value="alabama">Alabama Crimson Tide</option>
                                        <option value="georgia">Georgia Bulldogs</option>
                                        <option value="ohio-state">Ohio State Buckeyes</option>
                                        <option value="texas">Texas Longhorns</option>
                                        <option value="oregon">Oregon Ducks</option>
                                        <option value="lsu">LSU Tigers</option>
                                        <option value="penn-state">Penn State Nittany Lions</option>
                                        <option value="miami">Miami Hurricanes</option>
                                        <option value="notre-dame">Notre Dame Fighting Irish</option>
                                        <option value="tennessee">Tennessee Volunteers</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="homeRecord" class="form-label">Home Team Record (W-L)</label>
                                    <input type="text" class="form-control" id="homeRecord" placeholder="e.g., 8-2" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="awayRecord" class="form-label">Away Team Record (W-L)</label>
                                    <input type="text" class="form-control" id="awayRecord" placeholder="e.g., 7-3" required>
                                </div>
                                <div class="col-md-4">
                                    <label for="homeFieldAdvantage" class="form-label">Home Field Advantage</label>
                                    <select class="form-select" id="homeFieldAdvantage">
                                        <option value="3">High (3 points)</option>
                                        <option value="2" selected>Medium (2 points)</option>
                                        <option value="1">Low (1 point)</option>
                                        <option value="0">None (0 points)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="homeOffense" class="form-label">Home Team Offense Rating (1-10)</label>
                                    <input type="number" class="form-control" id="homeOffense" min="1" max="10" value="7" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="awayOffense" class="form-label">Away Team Offense Rating (1-10)</label>
                                    <input type="number" class="form-control" id="awayOffense" min="1" max="10" value="7" required>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="homeDefense" class="form-label">Home Team Defense Rating (1-10)</label>
                                    <input type="number" class="form-control" id="homeDefense" min="1" max="10" value="7" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="awayDefense" class="form-label">Away Team Defense Rating (1-10)</label>
                                    <input type="number" class="form-control" id="awayDefense" min="1" max="10" value="7" required>
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg px-5">Calculate Prediction</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div id="predictionResult" class="card mt-4 shadow" style="display: none;">
                    <div class="card-body text-center">
                        <h3 class="card-title">Prediction Result</h3>
                        <div id="predictionText"></div>
                        <div id="confidenceText" class="mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const homeTeam = document.getElementById('homeTeam').value;
            const awayTeam = document.getElementById('awayTeam').value;
            const homeRecord = document.getElementById('homeRecord').value;
            const awayRecord = document.getElementById('awayRecord').value;
            const homeFieldAdvantage = parseInt(document.getElementById('homeFieldAdvantage').value);
            const homeOffense = parseInt(document.getElementById('homeOffense').value);
            const awayOffense = parseInt(document.getElementById('awayOffense').value);
            const homeDefense = parseInt(document.getElementById('homeDefense').value);
            const awayDefense = parseInt(document.getElementById('awayDefense').value);

            // Simple prediction algorithm
            const homeRecordWins = parseInt(homeRecord.split('-')[0]);
            const awayRecordWins = parseInt(awayRecord.split('-')[0]);
            
            const homeScore = (homeRecordWins * 2) + (homeOffense * 3) + (homeDefense * 2) + homeFieldAdvantage;
            const awayScore = (awayRecordWins * 2) + (awayOffense * 3) + (awayDefense * 2);
            
            const scoreDiff = homeScore - awayScore;
            const confidence = Math.min(95, Math.max(60, Math.abs(scoreDiff) * 3 + 60));
            
            const homeTeamName = document.getElementById('homeTeam').selectedOptions[0].text;
            const awayTeamName = document.getElementById('awayTeam').selectedOptions[0].text;
            
            let prediction;
            if (scoreDiff > 0) {
                prediction = `${homeTeamName} wins by ${Math.round(scoreDiff / 2)} points`;
            } else if (scoreDiff < 0) {
                prediction = `${awayTeamName} wins by ${Math.round(Math.abs(scoreDiff) / 2)} points`;
            } else {
                prediction = "Tie game";
            }
            
            document.getElementById('predictionText').innerHTML = `<h4 class="text-primary">${prediction}</h4>`;
            document.getElementById('confidenceText').innerHTML = `<p class="text-muted">Confidence: ${Math.round(confidence)}%</p>`;
            document.getElementById('predictionResult').style.display = 'block';
        });
    </script>
</body>
</html>